{"remainingRequest":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/babel-loader/lib/index.js!/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/src/components/Songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/src/components/Songs.vue","mtime":1619516695000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFNvbmdJbmZvRWRpdGVyIGZyb20gJy4vU29uZ0luZm9FZGl0ZXInOwppbXBvcnQgU29uZ1VwbG9hZERpYWxvZyBmcm9tICcuL1NvbmdVcGxvYWREaWFsb2cnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvbmdEYXRhOiBbXSwKICAgICAgZWRpdFNvbmc6IHt9LAogICAgICBlZGl0ZXJWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNvbmdJbmZvRWRpdGVyOiBTb25nSW5mb0VkaXRlciwKICAgIFNvbmdVcGxvYWREaWFsb2c6IFNvbmdVcGxvYWREaWFsb2cKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZGlyZWN0VG9VcGxvYWQ6IGZ1bmN0aW9uIHJlZGlyZWN0VG9VcGxvYWQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3VwbG9hZCcKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChyb3cpIHsKICAgICAgdmFyIHNvbmcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdykpOwogICAgICB0aGlzLiRyZWZzLnNvbmdJbmZvRWRpdGVyLnNvbmcgPSBzb25nOwogICAgICB0aGlzLiRyZWZzLnNvbmdJbmZvRWRpdGVyLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZVVwbG9hZDogZnVuY3Rpb24gaGFuZGxlVXBsb2FkKHJvdykgewogICAgICB2YXIgc29uZyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSk7CiAgICAgIHRoaXMuJHJlZnMuc29uZ1VwbG9hZERpYWxvZy5zb25nID0gc29uZzsKICAgICAgdGhpcy4kcmVmcy5zb25nVXBsb2FkRGlhbG9nLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBtZXNzYWdlOiBoKCdwJywgbnVsbCwgW2goJ3NwYW4nLCBudWxsLCAn56Gu6K6k5Yig6Zmk5q2M5puyJyksIGgoJ3NwYW4nLCB7CiAgICAgICAgICBzdHlsZTogJ2NvbG9yOiAjYWYzMTEyJwogICAgICAgIH0sIHJvdy5zb25nX25hbWUpLCBoKCdzcGFuJywgbnVsbCwgJ+WPiuWFtuaJgOacieaWh+S7tu+8nycpXSksCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiBiZWZvcmVDbG9zZShhY3Rpb24sIGluc3RhbmNlLCBkb25lKSB7CiAgICAgICAgICBpZiAoYWN0aW9uID09PSAnY29uZmlybScpIHsKICAgICAgICAgICAgaW5zdGFuY2UuY29uZmlybUJ1dHRvbkxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBpbnN0YW5jZS5jb25maXJtQnV0dG9uVGV4dCA9ICfmraPlnKjliKDpmaQnOwoKICAgICAgICAgICAgX3RoaXMuZGVsZXRlU29uZyhyb3csIGluc3RhbmNlLCBkb25lKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvbmUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTb25nRGF0YTogZnVuY3Rpb24gZ2V0U29uZ0RhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQUpBWF9VUkwgKyAnL2dldFNvbmdzJzsKICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuc29uZ0RhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgYWxlcnQoIkVycm9yISIpOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVTb25nOiBmdW5jdGlvbiBkZWxldGVTb25nKHNvbmcsIGluc3RhbmNlLCBkb25lKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQUpBWF9VUkwgKyAnL2RlbGV0ZVNvbmcnOwogICAgICBheGlvcy5kZWxldGUodXJsLCB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgaWQ6IHNvbmcuaWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5nZXRTb25nRGF0YSgpOwoKICAgICAgICBpbnN0YW5jZS5jb25maXJtQnV0dG9uTG9hZGluZyA9IGZhbHNlOwogICAgICAgIGRvbmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIGFsZXJ0KCJFcnJvciEiKTsKICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0U29uZ0luZm86IGZ1bmN0aW9uIHN1Ym1pdFNvbmdJbmZvKHNvbmcpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BSkFYX1VSTCArICcvdXBkYXRlU29uZ0luZm8nOwogICAgICBheGlvcy5wb3N0KHVybCwgc29uZykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRyZWZzLnNvbmdJbmZvRWRpdGVyLnZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip/mm7TmlrDmrYzmm7Lkv6Hmga/vvIEnLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNC5nZXRTb25nRGF0YSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5q2M5puy5L+h5oGv5pu05paw5aSx6LSl44CCJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlU29uZzogZnVuY3Rpb24gdXBkYXRlU29uZyhpZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FKQVhfVVJMICsgJy91cGxvYWRPbmVGaWxlLycgKyBpZDsKICAgICAgdmFyIHVwbG9hZEZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGZpZWxkID0gdGhpcy4kcmVmcy5zb25nVXBsb2FkRGlhbG9nLmZpZWxkOwogICAgICB2YXIgdXBsb2FkRmlsZSA9IHRoaXMuJHJlZnMuc29uZ1VwbG9hZERpYWxvZy51cGxvYWRGaWxlOwogICAgICB1cGxvYWRGb3JtLmFwcGVuZChmaWVsZCwgdXBsb2FkRmlsZSk7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MucG9zdCh1cmwsIHVwbG9hZEZvcm0sIGNvbmZpZykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRyZWZzLnNvbmdVcGxvYWREaWFsb2cudXBsb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzNS4kcmVmcy5zb25nVXBsb2FkRGlhbG9nLnJlc2V0RGlhbG9nKCk7CgogICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5oiQ5Yqf5LiK5Lyg5paH5Lu277yBJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRyZWZzLnNvbmdVcGxvYWREaWFsb2cudXBsb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5paH5Lu25LiK5Lyg5aSx6LSl44CCJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRTb25nRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["Songs.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-container>\n    <el-header class=\"header-wrapper\">\n      <h1 class=\"header-title\">曲库</h1>\n      <div class=\"header-button\">\n        <el-button size=\"middle\" type=\"success\" @click=\"redirectToUpload\">添加歌曲</el-button>\n      </div>\n    </el-header>\n\n    <el-main>\n      <el-table\n        :data=\"songData\"\n        height=\"calc(100vh - 120px)\"\n        border\n        style=\"width: 100%\"\n        :header-cell-style=\"{textAlign: 'center'}\"\n        :cell-style=\"{textAlign: 'center'}\"\n      >\n        <el-table-column\n          fixed\n          prop=\"song_name\"\n          label=\"歌曲\"\n        >\n        </el-table-column>\n\n        <el-table-column\n          fixed\n          prop=\"singer\"\n          label=\"歌手\"\n        >\n        </el-table-column>\n\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              @click=\"handleEdit(scope.row)\">编辑</el-button>\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              @click=\"handleUpload(scope.row)\">上传文件</el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"handleDelete(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <song-upload-dialog @update-song=\"updateSong\" ref=\"songUploadDialog\" />\n      <song-info-editer @submit-song-info=\"submitSongInfo\" ref=\"songInfoEditer\" />\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport SongInfoEditer from './SongInfoEditer';\nimport SongUploadDialog from './SongUploadDialog';\n\nexport default {\n  data() {\n    return {\n      songData: [],\n      editSong: {},\n      editerVisible: false,\n    };\n  },\n\n  components: {\n    SongInfoEditer,\n    SongUploadDialog,\n  },\n\n  methods: {\n    redirectToUpload() {\n      this.$router.push({path: '/upload'});\n    },\n    handleEdit(row) {\n      let song = JSON.parse(JSON.stringify(row));\n      this.$refs.songInfoEditer.song = song;\n      this.$refs.songInfoEditer.visible = true;\n    },\n    handleUpload(row) {\n      let song = JSON.parse(JSON.stringify(row));\n      this.$refs.songUploadDialog.song = song;\n      this.$refs.songUploadDialog.visible = true;\n    },\n    handleDelete(row) {\n      const h = this.$createElement;\n      this.$msgbox({\n        title: '提示',\n        message: h('p', null, [\n          h('span', null, '确认删除歌曲'),\n          h('span', { style: 'color: #af3112' }, row.song_name),\n          h('span', null, '及其所有文件？'),\n        ]),\n        showCancelButton: true,\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        beforeClose: (action, instance, done) => {\n          if (action === 'confirm') {\n            instance.confirmButtonLoading = true;\n            instance.confirmButtonText = '正在删除';\n            this.deleteSong(row, instance, done);\n          } else {\n            done();\n          }\n        },\n      }).then(() => {\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n      });\n    },\n\n    getSongData() {\n      const url = process.env.VUE_APP_AJAX_URL + '/getSongs';\n      axios.get(url)\n        .then((response) => {\n          this.songData = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(\"Error!\");\n        });\n    },\n    deleteSong(song, instance, done) {\n      const url = process.env.VUE_APP_AJAX_URL + '/deleteSong';\n      axios.delete(url, { data: { id: song.id }})\n        .then(() => {\n          this.getSongData();\n          instance.confirmButtonLoading = false;\n          done();\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(\"Error!\");\n        });\n    },\n    submitSongInfo(song) {\n      const url = process.env.VUE_APP_AJAX_URL + '/updateSongInfo';\n      axios.post(url, song)\n        .then(() => {\n          this.$refs.songInfoEditer.visible = false;\n          this.$message({\n            message: '成功更新歌曲信息！',\n            type: 'success',\n          });\n          this.getSongData();\n        })\n        .catch((error) => {\n          console.log(error);\n          this.$message({\n            message: '歌曲信息更新失败。',\n            type: 'error',\n          });\n        });\n    },\n\n    updateSong(id) {\n\n      const url = process.env.VUE_APP_AJAX_URL + '/uploadOneFile/' + id;\n      let uploadForm = new FormData();\n      let field = this.$refs.songUploadDialog.field;\n      let uploadFile = this.$refs.songUploadDialog.uploadFile;\n      uploadForm.append(field, uploadFile);\n\n      let config = { \n        headers: { \"Content-Type\": \"multipart/form-data\" }\n      };\n\n      axios.post(url, uploadForm, config)\n        .then(() => {\n          this.$refs.songUploadDialog.uploading = false;\n          this.$refs.songUploadDialog.resetDialog();\n          this.$message({\n            message: '成功上传文件！',\n            type: 'success',\n          });\n        })\n        .catch(() => {\n          this.$refs.songUploadDialog.uploading = false;\n          this.$message({\n            message: '文件上传失败。',\n            type: 'error',\n          });\n        });\n    },\n  },\n\n  created() {\n    this.getSongData();\n  }\n};\n</script>\n\n<style scoped> \n\n.header-title {\n  float: left;\n}\n\n.header-button {\n  float: right;\n  margin-top: 20px;\n}\n\n\n#upload-wrapper {\n  margin: 20px 10px;\n}\n\n.upload-card {\n  float: left;\n  padding: 20px;\n}\n\n.box-card {\n  max-width: 400px;\n  height: 450px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both\n}\n\n</style>"],"sourceRoot":"src/components"}]}