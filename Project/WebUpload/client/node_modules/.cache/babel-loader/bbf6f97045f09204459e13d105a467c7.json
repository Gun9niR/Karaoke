{"remainingRequest":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/babel-loader/lib/index.js!/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/src/components/RatingForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/src/components/RatingForm.vue","mtime":1619513823000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/david/Study/SJTU/Courses/SE/Karaoke/Project/WebUpload/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldEZpbGVUeXBlIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwbG9hZEZpbGVzOiB7fSwKICAgICAgZmlsZUxpc3RSYXRlOiBbXSwKICAgICAgcnVsZUZvcm06IHt9LAogICAgICBydWxlczogewogICAgICAgIHJhdGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblJhdGVDaGFuZ2U6IGZ1bmN0aW9uIG9uUmF0ZUNoYW5nZShmaWxlKSB7CiAgICAgIGlmIChmaWxlLnJhdykgewogICAgICAgIHZhciByYXRlID0gZmlsZS5yYXc7CiAgICAgICAgdmFyIGZpbGVUeXBlID0gZ2V0RmlsZVR5cGUocmF0ZSk7CgogICAgICAgIGlmIChmaWxlVHlwZSAhPT0gJ3dhdicpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+mAieaLqXdhduagvOW8j+aWh+S7tu+8gSIpOwogICAgICAgICAgdGhpcy5maWxlTGlzdFJhdGUgPSBbXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy51cGxvYWRGaWxlc1sncmF0ZSddID0gcmF0ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVSYXRlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSYXRlUmVtb3ZlKCkgewogICAgICBkZWxldGUgdGhpcy51cGxvYWRGaWxlcy5yYXRlOwogICAgfSwKICAgIGJlZm9yZVJlbW92ZTogZnVuY3Rpb24gYmVmb3JlUmVtb3ZlKGZpbGUpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNvbmZpcm0oIlx1Nzg2RVx1NUI5QVx1NzlGQlx1OTY2NCAiLmNvbmNhdChmaWxlLm5hbWUsICJcdUZGMUYiKSk7CiAgICB9LAogICAgaGFuZGxlRXhjZWVkOiBmdW5jdGlvbiBoYW5kbGVFeGNlZWQoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6ZmQ5Yi26YCJ5oupIDEg5Liq5paH5Lu2Jyk7CiAgICB9LAogICAgY2xlYXJGaWxlczogZnVuY3Rpb24gY2xlYXJGaWxlcygpIHsKICAgICAgdGhpcy5maWxlTGlzdFJhdGUgPSBbXTsKICAgICAgdGhpcy51cGxvYWRGaWxlcyA9IHt9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["RatingForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAA,WAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA;AAAA,SADA;AADA;AAJA,KAAA;AAUA,GAZA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA;AACA,UAAA,IAAA,CAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,GAAA;AACA,YAAA,QAAA,GAAA,WAAA,CAAA,IAAA,CAAA;;AACA,YAAA,QAAA,KAAA,KAAA,EAAA;AACA,eAAA,QAAA,CAAA,KAAA,CAAA,aAAA;AACA,eAAA,YAAA,GAAA,EAAA;AACA,SAHA,MAGA;AACA,eAAA,WAAA,CAAA,MAAA,IAAA,IAAA;AACA;AACA;AACA,KAZA;AAaA,IAAA,gBAbA,8BAaA;AACA,aAAA,KAAA,WAAA,CAAA,IAAA;AACA,KAfA;AAgBA,IAAA,YAhBA,wBAgBA,IAhBA,EAgBA;AACA,aAAA,KAAA,QAAA,oCAAA,IAAA,CAAA,IAAA,YAAA;AACA,KAlBA;AAmBA,IAAA,YAnBA,0BAmBA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,YAAA;AACA,KArBA;AAsBA,IAAA,UAtBA,wBAsBA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA;AAzBA;AAdA,CAAA","sourcesContent":["<template>\n  <el-card shadow=\"never\" class=\"box-card\">\n    <div slot=\"header\" class=\"clearfix\">\n      <span>歌曲打分</span>\n    </div>\n\n    <el-form :inline=\"true\" :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n      <el-form-item label=\"人声音频\" prop=\"rate\">\n        <el-upload\n          class=\"upload-demo\"\n          action=\"https://jsonplaceholder.typicode.com/posts/\"\n          :on-change=\"onRateChange\"\n          :on-remove=\"handleRateRemove\"\n          :on-exceed=\"handleExceed\"\n          :limit=\"1\"\n          :before-remove=\"beforeRemove\"\n          :file-list=\"fileListRate\"\n          :auto-upload=\"false\"\n        >\n          <el-button size=\"small\" type=\"primary\">选择文件</el-button>\n        </el-upload>\n      </el-form-item>\n    </el-form>\n\n  </el-card>\n</template>\n\n<script>\nimport { getFileType } from '../utils/utils';\n\nexport default {\n  data() {\n    return {\n      uploadFiles: {},\n      fileListRate: [],\n      ruleForm: {},\n      rules: {\n        rate: [\n          { required: true },\n        ],\n      }\n    };\n  },\n\n  methods: {\n    onRateChange(file) {\n      if (file.raw) {\n        let rate = file.raw;\n        const fileType = getFileType(rate);\n        if (fileType !== 'wav') {\n          this.$message.error(\"请选择wav格式文件！\");\n          this.fileListRate = [];\n        } else {\n          this.uploadFiles['rate'] = rate;\n        }\n      }\n    },\n    handleRateRemove() {\n      delete this.uploadFiles.rate;\n    },\n    beforeRemove(file) {\n      return this.$confirm(`确定移除 ${ file.name }？`);\n    },\n    handleExceed() {\n      this.$message.warning('限制选择 1 个文件');\n    },\n    clearFiles() {\n      this.fileListRate = [];\n      this.uploadFiles = {};\n    },\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}